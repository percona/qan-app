<div class="table-wrapper--outer">
  <perfect-scrollbar [config]="scrollbarConfig" class="pmm-scrollbar">
    <div class="table-wrapper--inner">
      <table class="qan-table" id="qanTable">
        <ng-container *ngFor="let row of queries; let index = index;">
          <tr *ngIf="!index" class="qan-table__row">
            <th class="qan-table__cell qan-table__cell--fixed qan-table__cell--first-c">#</th>
            <th class="qan-table__cell qan-table__cell--fixed qan-table__cell--second-c">
              <ng-select [searchable]="false"
                         [(ngModel)]="selectedQueryType"
                         [items]="queryTypes"
                         [clearable]="false"
                         bindLabel="name"
                         bindValue="name"
                         class="pmm-select pmm-select--column pmm-select--column-main">
              </ng-select>
            </th>
            <th *ngFor="let metric of objectKeys(row.metrics)" class="qan-table__cell">
              <app-qan-table-header-cell [options]="selectOptions" [currentColumnName]="metric"></app-qan-table-header-cell>
            </th>
          </tr>
          <tr [routerLink]="['./', 'report', dbServer.Subsystem]"
              [queryParams]="composeQueryParamsForGrid(row.dimension)"
              routerLinkActive="qan-table__row--active"
              class="qan-table__row">
            <td class="qan-table__cell qan-table__cell--first-c qan-table__cell--fixed">
              {{index || ''}}
            </td>
            <td class="qan-table__cell qan-table__cell--second-c qan-table__cell--fixed ">
              <div class="overlay-container">
                    <span class="overlay-container__item qan-table__abstract">
                      <!--{{ row?.Rank ? (row?.Abstract || 'Low Ranking Queries') : 'TOTAL' }}-->
                      {{row.dimension || 'TOTAL'}}
                    </span>
              </div>
            </td>
            <td *ngFor="let metric of objectKeys(row.metrics)" class="qan-table__cell">
              <app-qan-table-cell [cellData]="jsonStringify(row.metrics[metric])"></app-qan-table-cell>
            </td>
          </tr>
        </ng-container>
      </table>
    </div>
  </perfect-scrollbar>
  <span class="right-table-border"></span>
</div>
<router-outlet></router-outlet>
